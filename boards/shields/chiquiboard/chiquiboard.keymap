/*
 * Copyright (c) 2020 The ZMK Contributors
 *
 * SPDX-License-Identifier: MIT
 */

#include <behaviors.dtsi>
#include <dt-bindings/zmk/keys.h>
#include <dt-bindings/zmk/bt.h>

/ {
        unicode_map {
                compatible = "zmk,unicode-map";
                c_cedille: C_CEDILLE { unicode = <0x00E7>; };
                c_cedille_caps: C_CEDILLE_CAPS { unicode = <0x00C7>; };
                e_aigu: E_AIGU { unicode = <0x00E9>; };
                e_aigu_caps: E_AIGU_CAPS { unicode = <0x00C9>; };
                e_grave: E_GRAVE { unicode = <0x00E8>; };
                e_grave_caps: E_GRAVE_CAPS { unicode = <0x00C8>; };
                a_grave: A_GRAVE { unicode = <0x00E0>; };
                a_grave_caps: A_GRAVE_CAPS { unicode = <0x00C0>; };
                u_grave: U_GRAVE { unicode = <0x00F9>; };
                u_grave_caps: U_GRAVE_CAPS { unicode = <0x00D9>; };
                trema: TREMA { unicode = <0x00A8>; };
        };

        behaviors {
                morph_BC: morph_BC {
                        compatible = "zmk,behavior-mod-morph";
                        #binding-cells = <0>;
                        bindings = <&kp B>, <&kp C>;
                        mods = <(MOD_LCTL|MOD_RCTL)>;
                };
                morph_ABC: morph_ABC {
                        compatible = "zmk,behavior-mod-morph";
                        #binding-cells = <0>;
                        bindings = <&kp A>, <&morph_BC>;
                        mods = <(MOD_LSFT|MOD_RSFT)>;
                };

                c_cedille_morph_a: c_cedille_morph_a {
                        compatible = "zmk,behavior-mod-morph";
                        #binding-cells = <0>;
                        bindings = <&kp a>, <&kp A>;
                        mods = <(MOD_LSFT|MOD_RSFT)>;
                };

                c_cedille_morph: c_cedille_morph {
                        compatible = "zmk,behavior-mod-morph";
                        #binding-cells = <0>;
                        bindings = <&c_cedille_morph_a>, <&kp TILDE>;
                        mods = <(MOD_LALT|MOD_RALT)>;
                };
                
                e_aigu_morph_a: e_aigu_morph_a {
                        compatible = "zmk,behavior-mod-morph";
                        #binding-cells = <0>;
                        bindings = <&kp E_AIGU>, <&kp E_AIGU_CAPS>;
                        mods = <(MOD_LSFT|MOD_RSFT)>;
                };

                e_aigu_morph: e_aigu_morph {
                        compatible = "zmk,behavior-mod-morph";
                        #binding-cells = <0>;
                        bindings = <&e_aigu_morph_a>, <&kp FSLH>;
                        mods = <(MOD_LALT|MOD_RALT)>;
                };

                e_grave_morph_a: e_grave_morph_a {
                        compatible = "zmk,behavior-mod-morph";
                        #binding-cells = <0>;
                        bindings = <&kp E_GRAVE>, <&kp E_GRAVE_CAPS>;
                        mods = <(MOD_LSFT|MOD_RSFT)>;
                };

                e_grave_morph: e_grave_morph {
                        compatible = "zmk,behavior-mod-morph";
                        #binding-cells = <0>;
                        bindings = <&e_grave_morph_a>, <&kp BSLH>;
                        mods = <(MOD_LALT|MOD_RALT)>;
                };

                a_grave_morph_a: a_grave_morph_a {
                        compatible = "zmk,behavior-mod-morph";
                        #binding-cells = <0>;
                        bindings = <&kp A_GRAVE>, <&kp A_GRAVE_CAPS>;
                        mods = <(MOD_LSFT|MOD_RSFT)>;
                };

                a_grave_morph: a_grave_morph {
                        compatible = "zmk,behavior-mod-morph";
                        #binding-cells = <0>;
                        bindings = <&a_grave_morph_a>, <&kp GRAVE>;
                        mods = <(MOD_LALT|MOD_RALT)>;
                };

                u_grave_morph_a: u_grave_morph_a {
                        compatible = "zmk,behavior-mod-morph";
                        #binding-cells = <0>;
                        bindings = <&kp U_GRAVE>, <&kp U_GRAVE_CAPS>;
                        mods = <(MOD_LSFT|MOD_RSFT)>;
                };

                u_grave_morph: u_grave_morph {
                        compatible = "zmk,behavior-mod-morph";
                        #binding-cells = <0>;
                        bindings = <&u_grave_morph_a>, <&kp BSLH>;
                        mods = <(MOD_LALT|MOD_RALT)>;
                };
        };

        keymap {
                compatible = "zmk,keymap";

                default_layer {
                        display-name = "Default Layer";
// -----------------------------------------------------------------------------------------
// | ESC |  F1 |  F2 |  F3 |  F4 |  F5 |  F6 |  F7 |  F8 |  F9 |  F10|  F11|  F12|  PWR|  |NUMLC|  /  |  *  |  -  |
// | FSLH|  1  |  2  |  3  |  4  |  5  |  6  |  7  |  8  |  9  |  0  |MINUS|EQUAL|  DEL|  |  7  |  8  |  9  | NONE|
// | TAB |  q  |  w  |  e  |  r  |  t  |  y  |  u  |  i  |  o  |  p  |CARET|  √ß  |  RET|  |  4  |  5  |  6  |  +  |
// | CAPS|  a  |  s  |  d  |  f  |  g  |  h  |  j  |  k  |  l  |  ;  |  √®  |  √†  |  RET|  |  1  |  2  |  3  |  RET|
// |LSHFT|  √π  |  z  |  x  |  c  |  v  |  b  |  n  |  m  |  ,  |  .  |  √©  |RSHFT| NONE|  |  0  | NONE|  UP | NONE|
// | fn  |LCTRL| LALT| LCMD| NONE| NONE| NONE|SPACE| NONE| NONE| RCMD| RALT| NONE| NONE|  |  .  | LEFT| DOWN|RIGHT|
                        bindings = <
   &kp ESC   &kp F1      &kp F2    &kp F3    &kp F4    &kp F5    &kp F6    &kp F7    &kp F8    &kp F9    &kp F10   &kp F11   &kp F12   &sys SLEEP       &kp KP_NLCK &kp KP_DIVIDE &kp KP_MULTIPLY &kp KP_MINUS
   &kp FSLH  &kp N1      &kp N2    &kp N3    &kp N4    &kp N5    &kp N6    &kp N7    &kp N8    &kp N9    &kp N0    &kp MINUS &kp EQUAL &kp DEL          &kp KP_N7   &kp KP_N8     &kp KP_N9       &none
   &kp TAB   &kp Q       &kp W     &kp E     &kp R     &kp T     &kp Y     &kp U     &kp I     &kp O     &kp P     &kp CARET &c_cedille_morph  &kp RET          &kp KP_N4   &kp KP_N5     &kp KP_N6       &kp KP_PLUS
   &CAPS     &kp A       &kp S     &kp D     &kp F     &kp G     &kp H     &kp J     &kp K     &kp L     &kp SEMI  &e_grave_morph  &a_grave_morph  &kp RET          &kp KP_N1   &kp KP_N2     &kp KP_N3       &kp RET
   &LSHFT    &kp U_GRAVE &kp Z     &kp X     &kp C     &kp V     &kp B     &kp N     &kp M     &kp COMMA &kp DOT   &e_aigu_morph  &mo 1     &none            &kp KP_N0   &none         &kp UP          &none
   &mo 2     &kp LCTRL   &kp LALT  &kp LCMD  &none     &none     &none     &kp SPACE &none     &none     &kp RCMD  &kp RALT  &none     &none            &kp KP_DOT  &kp LEFT      &kp DOWN        &kp RIGHT
                        >;
                };

                fn_layer {
                        display-name = "Function Layer";
// -----------------------------------------------------------------------------------------
// | ESC |  üîÖ |  üîÜ |MSNCTR|  üîç |  üéôÔ∏è |  üåô  |  ‚Üû  |  ‚è∏Ô∏è |  ‚Ü†  |  üîá |  üîâ  |  üîä |  PWR|  |NUMLC|  /  |  *  |  -  |
// | FSLH|  1  |  2  |  3  |  4  |  5  |  6  |  7  |  8  |  9  |  0  |MINUS|EQUAL|  DEL|  |  7  |  8  |  9  | NONE|
// | TAB |  q  |  w  |  e  |  r  |  t  |  y  |  u  |  i  |  o  |  p  |CARET|  √ß  |  RET|  |  4  |  5  |  6  |  +  |
// | CAPS|  a  |  s  |  d  |  f  |  g  |  h  |  j  |  k  |  l  |  ;  |  √®  |  √†  |  RET|  |  1  |  2  |  3  |  RET|
// |LSHFT|  √π  |  z  |  x  |  c  |  v  |  b  |  n  |  m  |  ,  |  .  |  √©  |RSHFT| NONE|  |  0  | NONE|  UP | NONE|
// | fn  |LCTRL| LALT| LCMD| NONE| NONE| NONE|SPACE| NONE| NONE| RCMD| RALT| NONE| NONE|  |  .  | LEFT| DOWN|RIGHT|
                        bindings = <
   &trans &kp C_BRI_DN &kp C_BRI_UP &kp LC(UP) &kp LCMD(SPACE) &trans &trans &kp C_PREV &kp C_PP  &kp C_NEXT &kp C_MUTE &kp C_VOL_DN &kp C_VOL_UP &trans &trans &trans &trans &trans
   &trans &trans       &trans       &trans     &trans          &trans &trans &trans     &trans    &trans     &trans     &trans       &trans       &trans &trans &trans &trans &trans
   &trans &trans       &trans       &trans     &trans          &trans &trans &trans     &trans    &trans     &trans     &trans       &trans       &trans &trans &trans &trans &trans
   &trans &trans       &trans       &trans     &trans          &trans &trans &trans     &trans    &trans     &trans     &trans       &trans       &trans &trans &trans &trans &trans
   &trans &trans       &trans       &trans     &trans          &trans &trans &trans     &trans    &trans     &trans     &trans       &trans       &trans &trans &trans &trans &trans
   &trans &trans       &trans       &trans     &trans          &trans &trans &trans     &trans    &trans     &trans     &trans       &trans       &trans &trans &trans &trans &trans
                        >;
                };
        };
};